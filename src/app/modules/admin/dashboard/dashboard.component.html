<div class="" *ngIf="!loading; else loadingSpinner">
  <mat-card class="col-12 mx-auto mt-4">
    <mat-card-content class="d-flex flex-column flex-wrap p-5">
      <div class="d-flex justify-content-center gap-2 mb-5">
        <canvas
          baseChart
          class="chart w-50 h-50"
          [data]="salesQuantityChartData"
          [options]="chartOptions"
          [plugins]="chartPlugins"
          [type]="chartType"
        >
        </canvas>

        <canvas
          baseChart
          class="chart w-50 h-50"
          [data]="salesAmountChartData"
          [options]="chartOptions"
          [plugins]="chartPlugins"
          [type]="chartType"
        >
        </canvas>
      </div>
      <div class="d-flex flex-wrap">
        <div class="data col-4 mb-4">
          <span class="data_title">Órdenes entregadas</span>
          <div class="data_circle data_circle-animation mt-3">
            {{ completedOrders.length }}
          </div>
        </div>

        <div class="data col-4 mb-4">
          <span class="data_title">Órdenes pendientes</span>
          <div class="data_circle data_circle-animation mt-3">
            {{ pendingOrders.length }}
          </div>
        </div>

        <div class="data col-4 mb-4">
          <span class="data_title">Artículos vendidos</span>
          <div class="data_circle data_circle-animation mt-3">
            {{ amountOfItemsSold }}
          </div>
        </div>

        <div class="data col-4 mb-4">
          <span class="data_title">Valor promedio de las órdenes</span>
          <div class="data_circle mt-3">
            €{{ averageSaleAmount | number : "2.2-2" }}
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>

<ng-template #loadingSpinner>
  <div class="loading-spinner-container">
    <app-loading-spinner class="loading-spinner"></app-loading-spinner>
  </div>
</ng-template>
